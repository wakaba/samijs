<!DOCTYPE HTML>
<html lang=en>
<title>Mini browser</title>
<link rel=stylesheet href="/www/style/html/xhtml">
<style>
.sami-browser-iframe {
  width: 100%;
  height: 20em;
}

.sami-browser-xhr {
  position: relative;
  display: block;
  border: outset thin;
  overflow: auto;
}
</style>

<h1>Mini browser</h1>

<section id=browser>

<input id=browser-url type=url>

<div id=browser-viewport></div>

</section>

<script>
  var SAMI = {};
  SAMI.onLoadFunctions = [];
  SAMI.onLoadFunctions.push (function () {
    SAMI.Script.loadScripts (new SAMI.List ([
      '../script/sami-browser.js'
    ]), function () {
      var bplaceholder = document.getElementById ('browser-viewport');
      var browserURL = document.getElementById ('browser-url');

      var browser = new SAMI.Browser.XHR (bplaceholder);

      browser.addEventListener ('urlchanged', function (ev) {
        browserURL.value = ev.target.getURL ();
      });

      browser.openURL ('http://suika.fam.cx/antenna.ja.html');

      new SAMI.Observer (browserURL, 'change', function (ev) {
        bev = new SAMI.Event.Browser (ev);
        browser.openURL (bev.target.value);
      });
    });
  });
</script>
<script src="../script/sami-core.js" defer async></script>
