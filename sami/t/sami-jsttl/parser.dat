#data
a[%%]b
#actions
[AppendString a]
[AppendString b]

#data
[%a%]
#actions
[AppendValueOf]
  [GetOrSetVariable a]

#data
[%a%]b
#actions
[AppendValueOf]
  [GetOrSetVariable a]
[AppendString b]

#data
[%GET a%]
#actions
[AppendValueOf]
  [GetVariable a]

#data
[%GET a%][%GET b%]
#actions
[AppendValueOf]
  [GetVariable a]
[AppendValueOf]
  [GetVariable b]

#data
x[%GET a%]c
#actions
[AppendString x]
[AppendValueOf]
  [GetVariable a]
[AppendString c]

#data
[%GET a=b%]c
#errors
1;8;m;unexpected token;=;
#actions
[AppendString c]

#data
x[%GET a=b%]c
#errors
1;9;m;unexpected token;=;
#actions
[AppendString x]
[AppendString c]

#data
x[%GET a=b;d%]c
#errors
1;9;m;unexpected token;=;
#actions
[AppendString x]
[AppendString c]

#data
x[%-GET a=b;d%]c
#errors
1;10;m;unexpected token;=;
#actions
[AppendString x]
[AppendString c]

#data
a[%GET%]b
#errors
1;7;m;unexpected token;eof;
#actions
[AppendString a]
[AppendString b]

#data
a[%b
#actions
[AppendString a]
[AppendString [%b]
